import{d as u,b as c,_ as v,o as i,c as d,e as n,f as l,p as _,g as p}from"./index-9f42f0ba.js";const f=u("video",{state:()=>({videoUrl:"",errorMsg:"",loading:!1}),getters:{videoState:e=>e.loading?"loading":e.videoUrl?"ready":"no-file"},actions:{loadFile(e){if(this.loading)return;if(!e.type.includes("video/")){this.errorMsg="Bad video filetype selected.";return}this.loading=!0;const t=new FileReader;t.onload=()=>{this.videoUrl=t.result,this.errorMsg=void 0,this.loading=!1},t.readAsDataURL(e)},unload(){this.videoUrl="",this.loading=!1}}}),h={name:"VideoView",setup(){const e=f();return{handleFileInput:s=>{const o=s.target.files;if(!o||o.length===0)return;const a=o[0];e.loadFile(a)},videoUrl:c(()=>e.videoUrl),newFile:()=>e.unload(),videoState:c(()=>e.videoState)}},beforeUnmount(){this.newFile()}};const g=e=>(_("data-v-23e17047"),e=e(),p(),e),S={key:1},y=g(()=>l("p",null,"Loading video ...",-1)),F=[y],m={key:2},w=["src"];function U(e,t,s,o,a,V){return i(),d("div",null,[o.videoState==="no-file"?(i(),d("input",{key:0,type:"file",accept:"video/*",onChange:t[0]||(t[0]=(...r)=>o.handleFileInput&&o.handleFileInput(...r))},null,32)):n("",!0),o.videoState=="loading"?(i(),d("div",S,F)):n("",!0),o.videoState==="ready"?(i(),d("div",m,[l("video",{src:o.videoUrl,controls:"",autoplay:""},null,8,w),l("button",{onClick:t[1]||(t[1]=r=>o.newFile())},"Choose new file")])):n("",!0)])}const k=v(h,[["render",U],["__scopeId","data-v-23e17047"]]);export{k as default};
